TIME=15,PRE=29,PATH='img/',LOAD=['btn_rule','game/block','game/btn_start','game/hd','game/hit','game/hole','game/pile','game/score','index/address','index/belt','index/bottom_l','index/bottom_r','index/macao','index/man','index/start','index/time','index/title','index/word','loading','logo_bottom','pop/bg_msg','pop/btn_close','pop/how_1','pop/how_2','pop/how_btn_start','pop/how_pile','pop/title_end','pop/title_how','pop/title_msg'],new App({data:{error:'',piles:'',time:0,score:0,playing:''},watch:{load:function load(a){a==PRE&&this.Init()}},computed:{progress:function progress(){return 100*(this.load/PRE)+'%'}},methods:{Init:function Init(){var a=this;setTimeout(function(){a.page='index',setTimeout(function(){a.cando=!0,a.alert=_wel},2e3)},1e3)},ToGame:function ToGame(){this.cando&&(this.page='game',this.ralert='how')},StartGame:function StartGame(){var a=Math.floor,b=this;this.playing||(this.Reset(),this.time=TIME,this.playing=!0,this.time_timer=setInterval(function(){b.time?b.time--:(clearInterval(b.time_timer),b.GameOver())},1e3),this.piles[a(9*Math.random())].Show(),this.game_timer=setInterval(function(){if(!b.time)clearInterval(b.game_timer);else for(var c,d=!0,e=0;9>e&&d;e++)c=a(9*Math.random()),b.piles[c].show&&b.piles[c].hiding||(d=!1,b.piles[c].Show())},600))},GameOver:function GameOver(){this.piles.forEach(function(a){return a.Hide()}),this.playing=!1,this.ralert='end'},Hit:function Hit(a){a.can_hit&&this.playing&&(a.hited=!0,a.can_hit=!1,clearTimeout(a.timer),setTimeout(function(){return a.Hide()},300),this.score++)},Reset:function Reset(){this.score=0;for(var a=[];9>a.length;)a.push({show:'',speed:1,hited:'',Show:function Show(){var a=this;app.time&&(this.show=!0,this.speed=1,setTimeout(function(){return a.can_hit=!0},400),this.timer=setTimeout(function(){a.can_hit=!1,a.speed=.4,a.show=!1},1500))},Hide:function Hide(){var a=this;clearTimeout(this.timer),this.can_hit=!1,this.speed=.4,this.hiding=!0,this.show=!1,this.hited=!1,setTimeout(function(){return a.hiding=!1},400)}});this.piles=a}},created:function created(){var a=this;this._isMobile&&(LOAD.forEach(function(b){var c=new Image;c.onload=function(){return++a.load},c.onerror=function(){return a.error='\u8CC7\u6E90\u52A0\u8F09\u5931\u6557\uFF1A'+b},c.src=''+PATH+b+'.png'}),this.Reset())},mounted:function mounted(){this._CheckMobile()&&(InitContact(),this.page='loading')}});