(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{166:function(t,a,s){"use strict";s.r(a);var n=s(0),e=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[s("h1",{attrs:{id:"滚动区域对象"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#滚动区域对象","aria-hidden":"true"}},[t._v("#")]),t._v(" 滚动区域对象")]),t._v(" "),s("p",[t._v("内容滚动在页面开发中是非常常见的功能点，实现起来也不难，给定一个宽高的区域，设置一下 "),s("code",[t._v("overflow: auto")]),t._v("，在内容超出的时候就可以触发滚动了，但实际上这样子实现的滚动区域存在不少的问题：")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("在微信浏览器中允许下拉查看页面提供者，虽然这不是大问题，也可以提供一点防伪保障，但终归是会影响用户体验的，通常开发中会被要求将其禁用。")])]),t._v(" "),s("li",[s("p",[t._v("iOS 奇葩的视图实现机制，可能导致滚动过程中出现模块漂移的情况，某些情况下甚至会闪动。")])])]),t._v(" "),s("p",[t._v("为了更加高效且稳定地开发，cp 在数个项目的经验中总结出了一套关于滚动区域的处理规则，通过嵌套多一层 div，监听触摸的相关事件等操作，提供了一个 api 简单且实用的组件，也就是 roll 对象。")]),t._v(" "),s("div",{staticClass:"warning custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),s("p",[t._v("虽然直接设置 "),s("code",[t._v("overflow")]),t._v(" 在体验上会比较不好，但在实际开发中难免遇到奇奇怪怪的情况，如某些机型不支持之类的。这个时候最好的解决方法就是放弃使用 roll 对象，当然如果时间允许，慢慢调整也是可以的。")])]),t._v(" "),s("h2",{attrs:{id:"对象的创建及使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#对象的创建及使用","aria-hidden":"true"}},[t._v("#")]),t._v(" 对象的创建及使用")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("app")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- html 属性为 v-html 的代理，内容为富文本时推荐使用这个方式创建 roll 对象 --\x3e")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("cp-roll")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("rule")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":html")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("rule")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("cp-roll")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 不含 html 属性时可直接在对象内填充内容，内容高度超出 roll 对象高度时将允许滚动 --\x3e")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- roll 对象默认情况下高度不存在，每次都需要手动对其设置高度 --\x3e")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("cp-roll")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("list")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- <div class=item v-for='n in list'></div> --\x3e")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("cp-roll")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("p",[t._v("查看渲染后的 DOM 结构可知 roll 对象是内含了一层 div 的，该 div 被设置了相对定位，也就是内部的元素设置绝对定位后，将相对于 roll 对象的内容区域定位。")])])}],!1,null,null,null);a.default=e.exports}}]);